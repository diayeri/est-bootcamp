<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>함수 선언하는 방법</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/prism.min.js"></script>
    <style></style>
  </head>
  <body>
    <main>
      <h1>함수 선언하는 방법</h1>
      <h2 class="title">1. 함수 선언식</h2>
      <h2 class="title">2. 함수 표현식</h2>
      <h2 class="title">3. 화살표 함수</h2>
      <pre><code class="language-javascript">
// # 함수 선언식
func1();
function func1() {
  console.log("함수 선언식");
}


// # 함수 표현식
var func2 = function func3() {
  console.log("함수 표현식");
  // func3()는 이 스코프 안에서만 사용할 수 있다 (함수표현식의 특징)
};
func2();


// # 화살표 함수
const arrowFunc = (a) => 2 * a;
console.log(arrowFunc(10));


// 예) 메서드에서 콜백함수
[1, 2, 3, 4, 5].map(function (item, index) {
  return item + index;
});

// -> 표현식 + 화살표함수
const result = [1, 2, 3, 4, 5].map((item, index) => item + index);
console.log(result);
      </code></pre>
      <h2 class="title">4. 즉시실행 함수</h2>
      <pre><code class="language-javascript">
// # 즉시실행 함수
(function iife() {
  console.log("함수를 바로 실행합니다.");
})();


// 익명 즉시 실행 함수
(function () {
  // 함수 본문
  console.log("즉시 실행 함수가 호출되었습니다.");
})();

// 이름 있는 즉시 실행 함수
(function myFunction() {
  console.log("이름이 있는 즉시 실행 함수가 호출되었습니다.");
})();

// 파라미터를 전달받아 실행될 수 있습니다.
(function (num1, num2) {
  const sum = num1 + num2;
  console.log(`The sum is: ${sum}`); // "The sum is: 15"
})(5, 10);


// 예) 표현식으로 작성한 즉시 실행함수 - 객체타입을 반환하는 함수
const iifeFunc = (function () {
  console.log("표현식으로 작성한 즉시 실행함수");
  let value = 0;

  return {
    increment: function () {
      value++;
    },
    print: function () {
      console.log(value);
    },
  };
})();
console.log(iifeFunc);
// 반환값인 객체를 일반 객체 타입처럼 사용가능
iifeFunc.increment();
iifeFunc.print();


// 단축평가를 이용한 반환값
function test() {
  return null || "b";
}
console.log(test());
      </code></pre>
    </main>
    <script src="../common.js"></script>
    <script>
      // 함수 선언하는 방법

      // 1. 함수 선언식
      // - 함수의 hoisting 발생, 선언 전에도 사용 가능
      // - 함수 선언식에는 "할당" 개념이 없고, "선언"만 있다
      console.log("----함수 선언식----");
      func1();
      function func1() {
        console.log("함수 선언식");
      }

      // 2. 함수 표현식
      // - 변수의 hoisting 발생, 선언 후 사용 가능 (선언 전 사용불가)
      // - 함수는 자바스크립트에서 값으로 표현 가능하다 (= 표현식)
      // - 함수를 변수로 지정하는 방법 (함수이름 생략가능)
      console.log("----함수 표현식----");
      // func2(); // func2 = undefined -> ERR: undefined() is not a function
      var func2 = function func3() {
        console.log("함수 표현식");
        // func3()는 이 스코프 안에서만 사용할 수 있다 (함수표현식의 특징)
      };
      func2();

      // 3. 화살표 함수
      // - 함수의 이름을 지정하지 않고, 변수로 지정함 -> 함수 표현식
      // - return문 포함 한줄일 때, "return" 도 생략 가능
      // - 매개변수가 한개일 때는 소괄호도 생략할 수 있지만...
      console.log("----화살표 함수----");
      const arrowFunc = (a) => 2 * a;
      console.log(arrowFunc(10));

      // 메서드에서 콜백함수
      // 함수의 인자로 다른 함수를 전달한다
      [1, 2, 3, 4, 5].map(function (item, index) {
        return item + index;
      });

      const result = [1, 2, 3, 4, 5].map((item, index) => item + index);
      console.log(result);

      // 4. 즉시실행 함수
      // 선언과 동시에 호출
      // 이름을 보통 작성하지 않는다. - 안에서 호출하려면 이름을 작성 하겠지만(재귀적 사용?)
      // 표현식으로 작성 가능
      console.log("----즉시실행함수----");
      (function iife() {
        console.log("함수를 바로 실행합니다.");
      })();

      const iifeFunc = (function () {
        console.log("표현식으로 작성한 즉시 실행함수");
        let value = 0;

        return {
          increment: function () {
            value++;
          },
          print: function () {
            console.log(value);
          },
        };
      })();
      console.log(iifeFunc);
      iifeFunc.increment();
      iifeFunc.print();

      // 익명 즉시 실행 함수
      (function () {
        // 함수 본문
        console.log("즉시 실행 함수가 호출되었습니다.");
      })();

      // 이름 있는 즉시 실행 함수
      (function myFunction() {
        console.log("이름이 있는 즉시 실행 함수가 호출되었습니다.");
      })();

      // 파라미터를 전달받아 실행될 수 있습니다.
      (function (num1, num2) {
        const sum = num1 + num2;
        console.log(`The sum is: ${sum}`); // "The sum is: 15"
      })(5, 10);

      // 단축평가를 이용한 반환값
      function test() {
        return null || "b";
      }
      console.log(test());
    </script>
  </body>
</html>
