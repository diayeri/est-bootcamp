<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>전개구문</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/prism.min.js"></script>
    <style></style>
  </head>
  <body>
    <main>
      <h1>전개구문</h1>
      <pre><code class="language-javascript">
// 배열의 전개구문
const fruits = ["사과", "파인애플", "수박"];
const fish = ["조기", "갈치", "다금바리"];
const food = [...fruits, ...fish];
console.log(food);
// concat()과 유사하다
console.log(fruits.concat(fish));

const copyFruits = [...fruits];
copyFruits.push("망고"); // 복사후 변경사항 적용 안됨 (call by value)
console.log("fruits", fruits);
console.log("copyFruits", copyFruits);


// 객체의 전개구문
const weniv1 = { gary: 1, binky: 2 };
const weniv2 = { licat: 3 };
const weniv = { ...weniv1, ...weniv2 };
console.log(weniv);

const me = { name: "weniv", address: "jeju" };
const copyMe = { ...me };
copyMe.number = 1; // 복사후 변경사항 적용 안됨 (call by value)
console.log("me", me);
console.log("copyMe", copyMe);

const obj1 = { name: "weniv", address: "jeju" };
const obj2 = { address: "seoul" };
const obj = { ...obj1, ...obj2 }; // 동일한 키값은 업데이트됨 (덮어쓰기)
console.log(obj);
console.log(obj.address);
      </code></pre>
    </main>
    <script src="../common.js"></script>
    <script>
      // 전개구문 ...
      // spread syntax : 펼친다
      // 배열이나 객체의 요소를 복사할 때 주로 사용
      // 깊은복사 -> 재귀함수 이용, json 데이터 이용한 복사, 라이브러리 이용 등의 방법이 있다
      // 얕은복사 -> concat, 전개구문은 얕은 복사를 한다
      // 동일한 키값이 있는 경우 -> 덮어씌워짐 (객체 할당때와 비슷)

      // 배열의 전개구문
      // concat()과 유사
      console.log("--- 배열의 전개구문 ---");
      const fruits = ["사과", "파인애플", "수박"];
      const fish = ["조기", "갈치", "다금바리"];
      const food = [...fruits, ...fish];
      console.log(food);
      console.log(fruits.concat(fish));

      const copyFruits = [...fruits];
      copyFruits.push("망고");
      console.log("fruits", fruits);
      console.log("copyFruits", copyFruits);
      // 배열의 전개구문을 이용하면 얕은 복사가 가능

      // 객체의 전개구문
      console.log("--- 객체의 전개구문 ---");
      const weniv1 = { gary: 1, binky: 2 };
      const weniv2 = { licat: 3 };
      const weniv = { ...weniv1, ...weniv2 };
      console.log(weniv);

      const me = { name: "weniv", address: "jeju" };
      const copyMe = { ...me };
      copyMe.number = 1;
      console.log("me", me);
      console.log("copyMe", copyMe);

      // key 값이 동일하면 덮어쓰기가 된다.(가장 마지막에 오는 값이 됩니다)
      const obj1 = { name: "weniv", address: "jeju" };
      const obj2 = { address: "seoul" };
      const obj = { ...obj1, ...obj2 };
      console.log(obj);
      console.log(obj.address);
    </script>
  </body>
</html>
